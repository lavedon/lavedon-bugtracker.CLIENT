@page "/createticket"
@attribute [Authorize]
@using Client.Services
@using Client.Models

@inject ILocalStorageService LocalStorage
@inject IHttpService HttpService
@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle>Create a Ticket</PageTitle>
<CreateTicketForm CurrentUserName=@currentUserName/>
@code {
    private string currentUserName = ""; 


    protected async override void OnInitialized()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        currentUserName = await LocalStorage.GetItemAsync<string>("usernameFromClaims");
        StateHasChanged();
    }
}